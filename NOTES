Read this article on libudev and sysfs:
http://www.signal11.us/oss/udev/
